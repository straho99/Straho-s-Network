<table class="table posts-table" post-id="{{post.id}}">
    <thead>
    <tr>
        <th>
            <img ng-src="{{post.author.profileImageData}}" class="img-rounded img-thumbnail"/>
        </th>
        <th>
            <a href="#/users/{{post.author.username}}" ng-mouseover="isUserPreviewVisible=true"
               click-anywhere="isUserPreviewVisible=false">{{post.author.name}}</a>

            <!-- User preview element-->
            <div class="user-preview-container" ng-show="isUserPreviewVisible">
                <img ng-src="{{posterData.profileImageData}}" alt="{{posterData.name}}"/><br/>

                <p><span>{{posterData.name}}</span><br/>
                    <span><img ng-src="{{posterData.gender | gender}}"/></span></p>
                    <button class="btn btn-success btn-sm center-block" ng-show="posterData.isFriend">Friend</button>
                    <button class="btn btn-danger btn-sm center-block" ng-click="inviteFriend()"
                            ng-show="!posterData.isFriend && !posterData.hasPendingRequest">
                        Invite
                    </button>
                    <button class="btn btn-warning btn-sm center-block" ng-show="posterData.hasPendingRequest">Pending
                    </button>

            </div>
            <!-- End User preview element-->
            <br/>

            <span>{{post.date | date:"dd/MM/yyyy ' at ' hh-mm-ss Z" : "+3000"}}</span>
        </th>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td colspan="2">{{post.postContent}}</td>
    </tr>
    <tr>
        <td colspan="2">
            <a href=""> {{post.likesCount}} people liked this</a> -
            <a href="" ng-hide="post.liked" ng-click="likePost()">Like</a>
            <a href="" ng-show="post.liked" ng-click="unlikePost()">Unlike</a>
            <span class="pull-right">
                <a href="" ng-click="toggleComments()">{{post.comments.length}} comment(s)</a>&nbsp;
                <a href="" ng-click="showCommentForm()">Comment</a>
            </span>


        </td>
    </tr>

    <tr ng-show="commentFormVisible">
        <td></td>
        <td>
            <form class="form-horizontal ">
                <div class="form-group-sm">
                    <label class="sr-only" for="exampleComment">Comment here</label>
                    <input type="text" class="form-control input-sm" id="exampleComment" ng-model="commentContent">
                </div>
                <button type="submit" class="btn btn-default input-sm pull-right comment-button"
                        ng-click="addComment()">Comment
                </button>
            </form>
        </td>
    </tr>

    <tr class="comment" ng-repeat="comment in post.comments | orderBy: 'date'" ng-cloak ng-show="showComments"></tr>

    </tbody>
</table>